include::_attributes.adoc[]


= Installing Tekton Chains for Image Signing

== Creating the CRD

. Configure Tekton Chains by running the below commands:
+
[source, role="execute"]
----
cd
cat <<EOF >> chains.yaml
apiVersion: operator.tekton.dev/v1alpha1
kind: TektonChain
metadata:
  name: chain
spec:
  artifacts.oci.storage: oci
  artifacts.taskrun.format: in-toto
  artifacts.taskrun.storage: oci
  config: {}
  targetNamespace: openshift-pipelines
  transparency.enabled: true
EOF
oc apply -f chains.yaml
----
+
. Run the next command a few times to check if the deployment is available:
+
[source, role="execute"]
----
oc get deployment tekton-chains-controller -n openshift-pipelines
----
Wait for the *AVAILABLE* column to display *1*
+
[source]
----
NAME                       READY   UP-TO-DATE   AVAILABLE   AGE
tekton-chains-controller   1/1     1            1           106m
----
